<!-- (C) aldoniel 2021
contact : new issue -> https://github.com/aldoniel/radcalc/issues 
Ce logiciel est un programme informatique servant à faciliter des calculs radiologiques.
Ce logiciel est régi par la licence CeCILL "http://www.cecill.info".--> 
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval'">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1,user-scalable=no">
    <title>Radcalc</title>
    <link rel="stylesheet" href="css/w3.css">
	
	<!-- Enable the homescreen app on mobile devices -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" href="apple-touch-icon.png">
	<meta name="apple-mobile-web-app-title" content="RadCalc">
	<link rel="manifest" href="radcalc.webmanifest">

    <script src="js/brython.js"></script>
    <script src="js/brython_modules.js"></script>
   <!-- <script src="js/brython_stdlib.js"></script>  -->
    <script type="text/javascript">

        function startBrython() {
            document.addEventListener('deviceready', brython, false); // l'event deviceready est lancé quand le code natif codova a fini de charger (au cas où brython appelle une function javascript de cordova)
            brython() // pour tester dans le navigateur, à enlever sur téléphone
        }
        var versionweb=true; //idem. global
    </script>
</head>

<body onload="startBrython()"><!--;openonglet(null,'RECIST') //debug">-->
    <script type="text/javascript" src="cordova.js"></script>
    <!--menu haut -->
    <div class="w3-container" >
        <div class="w3-bar w3-light-green" id="menu" style="display:block">
            <table class="tbl_invisibl"  style="width:100%"><tbody><tr>
            <td><div class="w3-dropdown-hover">
                <button class="w3-button tablink hoverbutton" style="background-color:#8BC34A";padding:3px 6px;"><img src="img/Chaos_star.svg" height="40" alt="Divers"></button>
                <div class="w3-dropdown-content w3-bar-block w3-card-4" style="display:none">
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'volume')">Volume ellipsoïde</a>
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'surface')">IMC ; Surface corporelle</a>
                    <a href="#" class="w3-bar-item w3-button tablink" id="evapropos" onclick="openonglet(event,'apropos')">À propos</a>
                </div>
            </div></td>

           <td><div class="w3-dropdown-hover">
                <button class="w3-button tablink hoverbutton" style="background-color:#8BC34A";><img src="img/lung.svg" height="40" alt="Poumon" ></button> <!--.w3-light-green sert à ajouter un fond vert au bouton qui sinon est gris hérité de je ne sais où-->
                <div class="w3-dropdown-content w3-bar-block w3-card-4" style="display:none">
                    <a href="#" class="w3-bar-item w3-button tablink" onclick="openonglet(event,'brock')">Nodule en TDM (Brock)</a>
                    <a href="#" class="w3-bar-item w3-button tablink" onclick="openonglet(event,'herder')">Nodule en TEP (Herder)</a>
                    <a href="#" class="w3-bar-item w3-button tablink" onclick="openonglet(event,'vtd')">Temps de doublement</a>
                    <a href="#" class="w3-bar-item w3-button tablink" onclick="openonglet(event,'algo')">Algorithmes décisionnels</a>
                </div>
            </div></td>
            <td><div class="w3-dropdown-hover">
                <button class="w3-button tablink hoverbutton" style="background-color:#8BC34A";padding:12px 4px;"><img src="img/cancer.svg" width="30" alt="Onco"></button><!--je ne sais pas trop pk le kc est décallé prblm pb svg mais en forçant le css ça passe-->
                <div class="w3-dropdown-content w3-bar-block w3-card-4" style="display:none">
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'RECIST')">RECIST</a>
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'lugano')">Lymphomes</a>
                </div>
            </div></td>
            <td><div class="w3-dropdown-hover">
                <button class="w3-button tablink hoverbutton" style="background-color:#8BC34A";padding:3px 6px;"><span style="color:red;font-size:xx-large;">λ</span></button>
                <div class="w3-dropdown-content w3-bar-block w3-card-4" style="display:none">
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'washout')">Adénomes</a>
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'testis')">Volume gonadique</a>
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'tirads')">Mémo EU-TIRADS</a>
                </div>
            </div></td>
            
            <!--<td><button class="w3-bar-item w3-button tablink w3-green" style="padding:3px 6px;" onclick="openonglet(event,'nascet')"><img src="img/coeur.svg" height="40" alt="Vasculaire"></button></td>-->
            <td><div class="w3-dropdown-hover">
                <button class="w3-button tablink hoverbutton" style="background-color:#8BC34A";padding:3px 6px;"><img src="img/coeur.svg" height="40" alt="Vasculaire"></button>
                <div class="w3-dropdown-content w3-bar-block w3-card-4" style="display:none">
                    <a href="#" class="w3-bar-item w3-button tablink"  onclick="openonglet(event,'nascet')">Sténose</a>
                    <a href="#" class="w3-bar-item w3-button tablink" onclick="openonglet(event,'mesa')">Score coronarien MESA</a>
                </div>
            </div></td>
            <td><button class="w3-bar-item w3-button tablink w3-green" style="padding:3px 6px;" onclick="openonglet(event,'DFG')"><img src="img/kidney.svg" height="40" alt="DFG"></button></td>

            </tr></tbody></table>
        </div>
        <!--onglet DFG -->
        <div id="DFG" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Débit de Filtration Glomérulaire (DFG) estimé de l'adulte</h5>
            </div>
            <p><button class="w3-btn w3-red" id="DFG_clear">Effacer les valeurs</button></p>
            <div class="w3-container">
                <label class="w3-text-teal"><b>Créatinine ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" iDFG=1 type="number" min="1" step="any" id="creat" title="Seulement des chiffres S.V.P.">
                <p>
                    <input class="w3-radio" type="radio" name="ucr" checked >
                    <label>en µmol/l</label>
    
                    <input class="w3-radio" type="radio" name="ucr" id="mgdl">
                    <label>en mg/l</label>
                </p>

                <label class="w3-text-teal" ><b>Âge (années) ?</b></label>
                <input class="w3-input w3-border w3-light-grey" type="number" min="1"  step="any" id="age"  title="Seulement des chiffres S.V.P." iDFG=2>
                <p>
                <input class="w3-radio" type="radio" name="genre" value="1" checked iDFG=3>
                <label>Homme</label>

                <input class="w3-radio" type="radio" name="genre" value="0.742" iDFG=3>
                <label>Femme</label>
                </p>
                <p>
                <input class="w3-radio" type="radio" name="ethnie" value="1" checked iDFG=4>
                <label>non Africain-Américain</label>
            
                <input class="w3-radio" type="radio" name="ethnie" value="1.212" iDFG=4>
                <label>Africain-Américain</label>
                </p>
                <p><span class="w3-tag w3-large w3-teal">MDRD</span> <span id="MDRD">-</span> ml/min/1,73 m<sup>2</sup> de DFG</p>
                <p><span class="w3-tag w3-large w3-teal">CKD-EPI</span> <span id="CKD">-</span> ml/min/1,73 m<sup>2</sup> de DFG</p>
                <p><input id="IDMS"  type="checkbox"> Standardisation IDMS (indispensable pour l'équation du CKD-EPI)</p>

                <label class="w3-text-teal"><b>Poids (kg ; seulement pour Cockcroft) ?</b></label>
                <input class="w3-input w3-border w3-light-grey" type="number" min="1"  step="any" id=poids ipoids=1 title="Seulement des chiffres S.V.P.">

                <p><span class="w3-tag w3-large w3-teal">Cockcroft</span> <span id=dfgcg>-</span> ml/min de clairance de créatinine</p>
                <p>Remarque : La formule de Cockroft et Gault est conservée pour des raisons historiques (cf infra).</p>    
                <button class="w3-btn w3-indigo" iDFG=5 id="calcdfg" ipoids=2 >Calculer</button>
                <p></p>
                <div class="w3-container w3-teal">
                    <h5>Débit de Filtration Glomérulaire (DFG) estimé de l'enfant</h5>                
                </div>
                <p>Estimation à partir de l'équation de Schwartz modifiée.</p>
                <p><label class="w3-text-teal"><b>Créatinine ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" ischwartz=1 type="number" min="1" step="any" id="creatsch" title="Seulement des chiffres S.V.P."></p>
                <p><input class="w3-radio" name="usch" type="radio" checked >
                <label>en µmol/l</label>
                <input class="w3-radio" id="mmolsch" type="radio" name="usch">
                <label> en mg/l</label>
                </p>
                <p><label class="w3-text-teal"><b>Taille en cm ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" ischwartz=2 type="number" min="1" step="any" id="taillecmsch" title="Seulement des chiffres S.V.P."></p>                    
                <p><span class="w3-tag w3-large w3-teal">DFG</span> <span id=dfgsch>-</span> ml/min de clairance de créatinine/1,73m²</p>
                <button class="w3-btn w3-indigo" ischwartz=3>Calculer</button>
                <p></p>
                <div class="w3-container w3-teal">
                <h5>Débit de filtration glomérulaire absolu</h5>
                </div>
                <p>Le DFG est habituellement relatif, c'est à dire exprimé en ml/mn/1,73m² (rapporté à sur une surface corporelle normale). Pour les dosages de médicaments à excrétion rénale, le DFG absolu, ajusté à la surface corporelle de l'individu, est recommandé. Cf. <a href="http://www.egfr.se/eGFRfr.html#absolutegfr" target="_blank">réf.</a></p>
                <p><label class="w3-text-teal"><b>DFG relatif en ml/mn/1,73m² ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" iDFGabs=1 type="number" min="1" step="any" id="DFGrel" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>Taille en cm ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" iDFGabs=2 type="number" min="1" step="any" id="taillecm" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>poids en kg ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" iDFGabs=3 type="number" min="1" step="any" id="poidskg" title="Seulement des chiffres S.V.P."></p>
                
                <p><span class="w3-tag w3-large w3-teal">DFG absolu</span> <span id=DFGabs>-</span> ml/min de clairance de créatinine</p>    
                <p></p>
                <button type="button" class="collapsible collapsible100 w3-teal">Stades d'insuffisance rénale</button>
                <div class="collapsecontent">
                <table class="w3-table-all ">
                    <tr >
                    <th>Stade</th>
                    <th>DFG</th>
                    <th>Définition</th></tr>
                    <tr>
                    <td>1</td>
                                <td>≥ 90</td>
                                <td>Maladie rénale chronique* avec DFG normal ou augmenté</td>
                            </tr><tr>
                    <td>2</td>
                                <td>60-89</td>
                                <td>Maladie rénale chronique* avec DFG légèrement diminué</td>
                            </tr><tr>
                    <td>3 A</td>
                                <td>45-59</td>
                                <td>Insuffisance rénale chronique modérée</td>
                            </tr><tr>
                    <td>3 B</td>
                                <td>30-44</td>
                                <td>Insuffisance rénale chronique modérée</td>
                            </tr><tr>
                    <td>4</td>
                                <td>15-29</td>
                                <td>Insuffisance rénale chronique sévère</td>
                            </tr><tr>
                    <td>5</td>
                                <td>&lt; 15</td>
                                <td>Insuffisance rénale chronique terminale</td>
                            </tr></table>
                            <p>*Avec marqueurs d’atteinte rénale : protéinurie clinique, hématurie, leucocyturie, ou anomalies morphologiques ou histologiques, ou marqueurs de dysfonction tubulaire, persistant plus de trois mois.</p></div>
                <p></p>
                <button type="button" class="collapsible collapsible100 w3-teal">Recommandations CIRTACI</button>
                <div class="collapsecontent">
                <p>Selon les fiches <a href="http://www.sfrnet.org/sfr/societe/5-groupes-de-travail/qualite-securite-gestion-des-risques/agents-de-contraste-cirtaci/article.phtml?id=rc%2forg%2fsfrnet%2fhtm%2fArticle%2f2008%2fmie-20080918-000000-11514" target="_blank">CIRTACI</a>, les facteurs d'insuffisance rénale aiguë post-constraste sont :</p>
                <ul><li>Liés au patient<ul><li>L'insuffisance rénale aiguë ou chronique.</li><li>La déshydratation marquée.</li></ul></li>
                <li>Liés à la procédure<ul><li>Fortes doses de produit de contraste administrés en intra-artériel avec exposition rénale au premier passage.</li><li>Multiples injections de produit de contraste dans les 48 ou 72 heures.<li>Actes interventionnels cardio-vasculaires.</li></ul></li>
                </ul>
                <p>Les seuils à risque sont :</p>
                <ul><li>Risque si DFG < 45 ml/min/1,73 m² en cas de voie artérielle de 1<sup>er</sup> passage</li><li>Risque si DFG < 30 ml/min/1,73 m² sinon (voie veineuse ou artérielle de 2<sup>e</sup> passage.)</li></ul></div>
                <p></p>
                <button type="button" class="collapsible collapsible100 w3-teal">Plus sur les formules</button>
                <div class="collapsecontent">
                <ul>
                    <li><b>MDRD :</b> <p>MDRD=186*(creat*.0113)<sup>-1.154</sup>*age<sup>-.203</sup>*ethnie*genre) où ethnie=1.212 pour les Afro-Américain et 1 sinon ; où genre=0.742 pour les femmes et 1 sinon.<p></li>
                    <li><b>Cockcroft-Gault :</b><p>HAS 2012 : la formule de Cockcroft et Gault estime, non le DFG (en mL/min/1,73 m2), mais la clairance de la créatinine (en mL/min). Formule historique pour l'adaptation des posologies des médicaments.</p><p> MDRD_Cockcroft=round(((140-age)/creat)*poids*k) où k=1.23 pour hommes et 1.04 sinon.</p></li>
                    <li><b>CKD-EPI :</b><p>HAS 2012 : Estimation du DFG : CKD-EPI est l’équation la plus fiable.</p> <p>Ici, CKD=round( 141*  min(creat/k, 1)^(-0.411 si homme sinon -0.329) * max(creat/k, 1)^-1.209 * 0.993^age * (1 si homme sinon 1.018) * (1.159 si Afro-Américain sinon 1) ) ; k = 0.9 si homme sinon 0.7 ; creat : 113,1179 g/mol pour la conversion en mg/dl.</p></li>
                    <li><b>équation de Schwartz : </b><p>DFG_Schwartz = 0.413*taillecm/creatmgdl</p><p><a href="https://pubmed.ncbi.nlm.nih.gov/19158356/" target="_blank">Schwartz, article original</a></p><p>Le DFG normal avant 2 ans pourra être consulté sur <a href="http://pedsinreview.aappublications.org/content/pedsinreview/14/2/local/back-matter.pdf" target="_blank">Pediatrics in review</a></p></li>
                    <li><b>DFG absolu :</b><p>Calcul simple à partir de l'équation de Dubois et Dubois : DFGabs=DFGrel/1.73*0.007184 * taillecm<sup>0.725</sup> * poidskg<sup>0.425</sup></p></li>
                </ul></div>
                <p></p>
                <button type="button" class="collapsible collapsible100 w3-teal">Notes</button>
                <div class="collapsecontent">
                <ul><li>Expérimentalement, ce calculateur reproduit à l'arrondi près les valeurs de <a href="https://www.sfndt.org/professionnels/calculateurs/mdrds-ckd-epi-cockcroft" target="_blank">celui</a> de la Société Francophone de Néphrologie Dialyse et Transplantation ; de <a href="http://www.egfr.se/eGFRfr.html#absolutegfr" target="_blank">celui</a> de l'Université de Lund pour le DFG absolu, et
                de <a href = "https://www.mdcalc.com/revised-schwartz-equation-glomerular-filtration-rate-gfr-2009" target="_blank">celui</a> du site mdcal pour l'équation de Schwartz modifiée.</li>
                    <li>Voir également <a href="https://www.has-sante.fr/upload/docs/application/pdf/2012-10/evaluation_du_debit_de_filtration_glomerulaire_et_du_dosage_de_la_creatininemie_dans_le_diagnostic_de_la_maladie_renale_chronique_chez_ladulte_-_fiche_buts.pdf" target="_blank">Estimer le débit de filtration glomérulaire par l’équation CKD-EPI</a> de l'HAS.</li></ul>
                </div>
                <p></p>
            </div>
        </div>
        <!--onglet Brock -->
        <div id="brock" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Probabilité de malignité d'un nodule en TDM (Modèle de Brock)</h5>
            </div>
            <p><button class="w3-btn w3-red" id="brock_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Âge (années)</b></label>
                <input required class="w3-input w3-border w3-light-grey" ibrock=1 type="number" min="1" step="any" id="brock_age" title="Seulement des chiffres S.V.P."></p>
                <label class="w3-text-teal"><b>Sexe ?</b></label>
                <p><input class="w3-radio"  ibrock=2  type="radio" name="brock_sexe" value="0"  >
                <label>Homme</label>
                <input class="w3-radio" ibrock=2 type="radio" name="brock_sexe" value="0.6010727"  >
                <label>Femme</label>
                </p><label class="w3-text-teal"><b>Histoire familiale de cancer pulmonaire ?</b></label>
                <p><input class="w3-radio"  ibrock=3  type="radio" name="brock_kcfam" id="brock_kcfam"  >
                <label>Oui</label>
                <input class="w3-radio" ibrock=3 type="radio" name="brock_kcfam"  >
                <label>Non</label>
                </p><label class="w3-text-teal"><b>Emphysème associé ?</b></label>
                <p><input class="w3-radio"  ibrock=4  type="radio" name="brock_emphyseme" id="brock_emphyseme"  >
                <label>Oui</label>
                <input class="w3-radio" ibrock=4 type="radio" name="brock_emphyseme"  >
                <label>Non</label>
                </p><p><label class="w3-text-teal"><b>Taille du nodule ? (mm)</b></label>
                <input required class="w3-input w3-border w3-light-grey" ibrock=5 type="number" min="0" step="any" id="brock_taille_nodule" title="Seulement des chiffres S.V.P."></p>
                <label class="w3-text-teal"><b>Type de nodule ?</b></label>
                <p><input class="w3-radio"  ibrock=6  type="radio" name="brock_nodule_type" value="0"  >
                <label>Solide</label>
                <input class="w3-radio" ibrock=6 type="radio" name="brock_nodule_type" value="0.3769578"  >
                <label>Mixte</label>
                <input class="w3-radio" ibrock=6 type="radio" name="brock_nodule_type" value="-0.1276173"  >
                <label>Verre-dépoli</label>
                </p><label class="w3-text-teal"><b>Nodule d'un lobe supérieur ?</b></label>
                <p><input class="w3-radio"  ibrock=7  type="radio" name="brock_LS" id="brock_LS"  >
                <label>Oui</label>
                <input class="w3-radio" ibrock=7 type="radio" name="brock_LS"  >
                <label>Non</label>
                </p><label class="w3-text-teal"><b>Nodule spiculé ?</b></label>
                <p><input class="w3-radio"  ibrock=8  type="radio" name="brock_spicule" id="brock_spicule"  >
                <label>Oui</label>
                <input class="w3-radio" ibrock=8 type="radio" name="brock_spicule"  >
                <label>Non</label>
                </p><p><label class="w3-text-teal"><b>Nombre total de nodules ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" ibrock=9 type="number" min="1" step="any" id="brock_nb_nodule" title="Seulement des chiffres S.V.P."></p>
                
                
                <p><span class="w3-tag w3-large w3-teal">Probabilité de malignité*</span> <span id="brock_proba_kc">-</span> %</p>
                <p><button class="w3-btn w3-indigo " ibrock=10 id="brock_calc" ipoids=2 >Calculer</button></p>
                <p><span id="brock_avis"><span></p>
                <div class="w3-container w3-teal">Notes</div>
                <ul><li>*Ceci est la probabilité qu'un tel nodule chez un tel patient, sera diagnosticable comme un cancer pendant un suivi standard de 2 à 4 ans. <a href="https://www.nejm.org/doi/10.1056/NEJMoa1214726" target="_blank">Réf.</a></li>
                    <li>Expérimentalement, ce calculateur reproduit les valeurs de <a href="https://brocku.ca/lung-cancer-screening-and-risk-prediction/risk-calculators/" target="_blank">celui</a> de l'université de Brock dit « Nodule Malignancy Prediction Calculator (full model) » </li>
                    <li>Les recommandation BTS (British Thoracic Society) datent d'août 2015 et sont utilisées ici à défaut de recommandations françaises (oct. 2021). <a href="https://www.brit-thoracic.org.uk/quality-improvement/guidelines/pulmonary-nodules/" target="_blank">Réf.</a></li>
                </ul>
        </div>

         <!--onglet Herder -->
        <div id="herder" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Probabilité de malignité d'un nodule en TEP (Modèle de Herder) pour les nodules <u>solides</u></h5>
            </div>
            <p><button class="w3-btn w3-red" id="herder_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Âge ? (années) </b></label>
                <input required class="w3-input w3-border w3-light-grey" iherder=1 type="number" min="1" step="any" id="herder_age" title="Seulement des chiffres S.V.P."></p>
                <label class="w3-text-teal"><b>Tabagisme :</b></label>
                <p><input class="w3-radio"  iherder=2  type="radio" name="herder_tabac" value="0.7917"  >
                <label>Fumeur ou ancien fumeur</label>
                <input class="w3-radio"  type="radio" name="herder_tabac" value="0"  >
                <label>N'a jamais fumé</label>
                </p><label class="w3-text-teal"><b>ATCD de cancer extra-thoracique ?</b></label>
                <p><input class="w3-radio"  iherder=3  type="radio" name="herder_kc" value="1.3388"  >
                <label>Oui</label>
                <input class="w3-radio"  type="radio" name="herder_kc" value="0"  >
                <label>Non</label>
                </p><label class="w3-text-teal"><b>Localisation au lobe supérieur ?</b></label>
                <p><input class="w3-radio"  iherder=4  type="radio" name="herder_LS" value="0.7838"  >
                <label>Oui</label>
                <input class="w3-radio"  type="radio" name="herder_LS" value="0"  >
                <label>Non</label>
                </p><p><label class="w3-text-teal"><b>Taille du nodule (mm) ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" iherder=5 type="number" min="0" step="any" id="herder_mm" title="Seulement des chiffres S.V.P."></p>
                <label class="w3-text-teal"><b>Nodule spiculé ?</b></label>
                <p><input class="w3-radio"  iherder=6  type="radio" name="herder_spicule" value="1.0407"  >
                <label>Oui</label>
                <input class="w3-radio"  type="radio" name="herder_spicule" value="0"  >
                <label>Non</label>
                </p><label class="w3-text-teal"><b>Avidité pour le FDG ? </b></label><button type="button" class="w3-button w3-circle w3-green collapsible"></button>
                <div class="collapsecontent">
                <ul><li><b>Aucune</b> : fixation indiscernable de celle du parenchyme pulmonaire.</li><li><b>Faible</b> : Fixation ≤ à celle du secteur vasculaire médiastinal.</li><li><b>Modérée</b> : Fixation > à celle du secteur vasculaire médiastinal.</li><li><b>Intense</b> : Fixation nettement > à celle du secteur vasculaire médiastinal.</li></ul><p>Remarque : de manière surprenante, l'étude Herder ne définit pas les termes de son échelle de fixation. L'échelle donnée ici est celle-proposée par les recommandations BTS à fin de standardisation (grade D).
                </div>
                <p><input class="w3-radio"  iherder=7  type="radio" name="herder_fdg" value="0"  >
                <label>Aucune</label>
                <input class="w3-radio"  type="radio" name="herder_fdg" value="2.322"  >
                <label>Faible</label>
                <input class="w3-radio"  type="radio" name="herder_fdg" value="4.617"  >
                <label>Modérée</label>
                <input class="w3-radio"  type="radio" name="herder_fdg" value="4.771"  >
                <label>Intense</label>
                </p>

                <p><span class="w3-tag w3-large w3-teal">Probabilité de malignité*</span> <span id="herder_proba_kc">-</span> %</p>
                <p><button class="w3-btn w3-indigo " iherder=8 id="herder_calc" >Calculer</button></p>
                <p><div id="herder_avis"></div></p>
                <button type="button" class="collapsible collapsible100 w3-teal">Références</button>
                <div class="collapsecontent">
                <ul>
                    <li>Le modèle de <a href="https://doi.org/10.1378/chest.128.4.2490" target="_blank">Herder</a> ajoute l'intensité de la fixation au TEP-FDG au modèle de la Mayo Clinic. Le modèle d'Herder était un peu plus fiable (+13,6% d'AUC) que le modèle de la Mayo Clinic (et de <a href="https://doi.org/10.1016/j.lungcan.2015.03.018" target="_blank">Brock</a> ). Dans l'étude de Herder, 106 patients avec un seul nodule pulmonaire de moins de < 30 mm furent inclus. Les patients ayant un ATCD de cancer dans les 5 ans précédant la TEP, etc. avaient été exclus.</li>
                    <li>Plus sur les AUC des modèles : Brock : 0,902 ; IC95%[0,856–0,948] , AUC Herder 0,924, IC95%[0,875–0,974] Risk of malignancy in pulmonary nodules: A validation study of four prediction models, Ali Al-Ameri et al., <a href="https://doi.org/10.1016/j.lungcan.2015.03.018" target="_blank">Chest 2015 </a>
                        <p>AUC Herder (publication initiale) : AUC 0,92 ; IC 95% [0,87–0.97] Herder GJ et al. Clinical prediction model to characterize pulmonary 
                        nodules: validation and added value of 18F-fluorodeoxyglucose positron 
                        emission tomography. <a href="https://doi.org/10.1378/chest.128.4.2490" target="_blank">Chest</a></p>
                        <p>AUC Brock : 0,96 ; IC95%[0,93–0,98] McWilliams A et al. Probability of cancer in pulmonary nodules detected on first screening CT. <a href="https://doi.org/10.1056/nejmoa1214726" target="_blank">N Engl J Med</a></p></li>
                </ul></div>
                <p></p>
        </div>
        <!--onglet vtd -->
        <div id="vtd" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Temps de doublement</h5>
            </div>
            <p><button class="w3-btn w3-red" id="vtd_clear">Effacer les valeurs</button></p>
            <div class="w3-container w3-cyan">
                <h6>Examen 1</h6>
            </div>
            <p><label class="w3-text-teal"><b>Date du 1er scanner ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivtd=1 type="date" id="vtd_date1" placeholder="dd-mm-yyyy" value="" title="Date au format AAAA-MM-JJ"></p>
            <p><button class="w3-button w3-white w3-border w3-border-blue w3-round-large" id="vtd_3m" >Il y a 3 mois</button></p>
            <p><label class="w3-text-teal"><b>Volume du nodule (en mm³) ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivtd=2 type="number" min="0" step="any" id="vtd_vol1" title="Seulement des chiffres S.V.P."></p>
            <p>ou</p>
            <label class="w3-text-teal"><b>Volume approximatif (ex "5" ou "5*6" ou "5-6-7" en mm)</b></label> <button type="button" class="w3-button w3-circle w3-green collapsible"></button>
            <div class="collapsecontent">
                <p>Si le champ "Volume du nodule" est rempli, il sera utilisé en priorité.</p>
<p>Le champ "volume approximatif" admet une valeur en mm (ex pour 5 mm saisir "5" ; pour 5*6 mm saisir "5*6" ; pour 5x6x7 mm saisir "5-6-7". On peut utiliser les caractères * ou - ou x pour séparer les dimensions.).</p>
<p>Pour info, voici le mode de calcul : Avec une dimension, on peut estimer le volume par X³/2.<br>
En 2D, par X*Y*((X+Y)/2)/2).<br>
En 3D, par le volume du prisme X*Y*Z/2.</p>
            </div>
                <input required class="w3-input w3-border w3-light-grey" ivtd2=1 type="tel" min="0" step="any" id="vtd_vol1b">
                <span id="vtd_vol1c"></span>
            <div class="w3-container w3-cyan">
                <h6>Examen 2<span id="vtd_delta"></span></h6> 
            </div>
            <p><label class="w3-text-teal"><b>Date du 2e scanner ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivtd=3 type="date" id="vtd_date2" placeholder="yyyy-mm-dd" value="" title="Date au format AAAA-MM-JJ"></p>
            <p><button class="w3-button w3-white w3-border w3-border-blue w3-round-large" id="vtd_ajd" >Aujourd'hui</button></p>
            <p><label class="w3-text-teal"><b>Volume du nodule (ex. en mm³) ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivtd=4 type="number" min="0" step="any" id="vtd_vol2" title="Seulement des chiffres S.V.P."></p>
            <p>ou</p>
            <label class="w3-text-teal"><b>Volume approximatif (ex "5" ou "5x6" ou "5-6-7" mm)</b></label>
                <input required class="w3-input w3-border w3-light-grey" ivtd2=2 type="tel" min="0" step="any" id="vtd_vol2b"></p>
                <span id="vtd_vol2c"></span>
            <p><span class="w3-tag w3-large w3-teal">Temps de doublement</span> <span id="vtd_vdt">-</span></p>
            <p><button class="w3-btn w3-indigo " ivtd=5 id="vtd_calc">Calculer</button></p>
                <p><div id="vtd_avis"></div></p>
                <div class="w3-container w3-teal">Notes</div>
                <ul>
                    <li>Ces recommandations (BTS) sont pour les <b>nodules solides.</b></li>
                    <li>Selon les <a href="https://www.brit-thoracic.org.uk/quality-improvement/guidelines/pulmonary-nodules/" target="_blank">recommandations BTS</a>, le temps de doublement est idéalement à utiliser avec la volumétrie (mesure automatisée du volume), afin de contrôler les nodules à 1 an pour les nodules de 5-6mm et à 3 mois pour les nodules ≥6mm. Il faut évidemment utiliser le même algorithme, le même scanner idéalement,
                     ne pas mesurer un ganglion intra-pulmonaire..., etc.</li>
                     <li>La BTS conseille (grade C), de considérer comme significative, une croissance volumique ≥25%.</li>
                     <li>Un VTD entre 30 et 400 jours est suspect.</li>
                <li>Les nodules ≥8 mm ne doivent être suivis (BTS) que si leur probabilité de malignité est <10% (Brock, Herder).</li>
                <li>Ce calculateur a été testé contre celui de <a href="https://www.radiology.no/vdt/" target="_blank">Tore Sjøbod</a> et l'application P-Nodule Risk.</li>
            </ul>
        </div>
        <!--onglet RECIST -->
        <div id="RECIST" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>RECIST 1.1</h5>
            </div>
            <p><button class="w3-btn w3-left w3-red" id="recist_clear">Effacer les valeurs</button>
                <button class="w3-btn w3-right w3-red" id="recist_inverse">⇔ Inverser</button></p>
            <table class="w3-table-all w3-centered" style="width:100%">
                <tr >
                <th>Lésion</th>
                <th>Avant</th>
                <th>Aujourd'hui</th></tr>
                <tr>
                <td>1</td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=1 title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=2 title="Seulement des chiffres S.V.P."></td>
                        </tr><tr>
                <td>2</td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=3 title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=4 title="Seulement des chiffres S.V.P."></td>
                        </tr><tr>
                <td>3</td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=5 title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=6 title="Seulement des chiffres S.V.P."></td>
                        </tr><tr>
                <td>4</td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=7 title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=8 title="Seulement des chiffres S.V.P."></td>
                        </tr><tr>
                <td>5</td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=9 title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" min="0" irecist=10 title="Seulement des chiffres S.V.P."></td>
                        </tr><tr>
                            <td><b>Somme (<a href="#recist_aide_manuel">manuel</a>)</b></td>
                            <td><input class="w3-input w3-border" type="number" id="recist_suma_manuel" min="0" title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" id="recist_sumb_manuel" min="0" title="Seulement des chiffres S.V.P."></td>
                        </tr>
                        <tr>
                            <td><b>Somme (auto)</b></td>
                            <td><span id="recist_suma">-</span></td>
                            <td><span id="recist_sumb">-</span></td>                             
                        </tr>
                </table>
                
                        <p><span class="w3-tag w3-large w3-teal">RECIST</span> <span id="recist_recist">-</span></p>
                        <p><button class="w3-btn w3-indigo " irecist=11 id="recist_calc">Calculer</button></p>
                        <div class="w3-container w3-teal">Mémo (cibles)</div>
                        <ul><li><b>Cibles</b><ul><li>Mesurables : si ≥ 10mm, ou si ≥ 15 mm de petit axe pour les adénomégalies.</li><li>5 cibles ; max. 2 cibles par organes.</li></ul></li>
                            <li><b>Réponse complète (RC)</b> : Disparition de toutes les lésions. De plus, tous les ganglions lymphatiques (cible ou non-cible), doivent avoir atteint une dimension < 10 mm dans leur plus petit axe.</li>
                        <ul><li>Attention : les ganglions sélectionnés comme lésions cibles doivent toujours être mesurés (dimension du plus petit axe dans le plan anatomique utilisé pour l’examen BASELINE), même s’ils diminuent en taille durant l’étude et que leur petit axe devient < 10 mm.<li>Dès lors, lorsque des ganglions sont utilisés comme lésion cible, la « somme » des dimensions des lésions n’est pas nécessairement nulle, même en cas de réponse complète, puisqu’un ganglion normal est défini comme ayant un plus petit axe < 10 mm.</li>
                            </ul>
                        <li><b>Réponse partielle (RP)</b> : Diminution d'au moins 30 % de la somme des diamètres des lésions cibles par rapport à la somme initiale des diamètres (Examen BASELINE).</li>
                        <li><b>Progression (PD) </b>: Augmentation ≥ 20 % de la somme des diamètres des lésions cibles par rapport à la plus petite somme des diamètres observée durant l’étude (NADIR), y compris la visite de baseline. En plus de cette augmentation relative de 20%, cette somme doit augmenter d’au moins 0,5 cm.
                            <ul><li>Nota bene : l’apparition d'une ou plusieurs nouvelles lésions est également considérée comme progression.</li>
                            <li>Attention : s’il existe une progression par rapport au NADIR et une réponse par rapport à l’examen BASELINE, c’est la progression qui prévaut.</li></ul>
                        </li>
                        <li><b>Stabilisation (SD)</b> : Ni RP (ou RC), ni PD.</li>
                            <li>Source de cet extrait : <a href="http://www.cepd.fr/" target="_blank">Fiche RECIST de la cohorte des Carcinomes Endocrines Peu Différenciés.</a> Résumé excellent à lire pour les autres critères.</li></ul>
                        <div class="w3-container w3-teal">Aide</div>
                        <ul><li><a id="recist_aide_manuel"></a>Si la somme est entrée en manuel, alors les tailles des cibles de la colonne seront ignorées.</li></ul>

        </div>
        
        <!--onglet lugano -->
        <div id="lugano" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Lymphomes, Lugano</h5>
            </div>
            <p><button class="w3-btn w3-red" id="lugano_clear">Effacer les valeurs</button></p>
            <table class="w3-table-all w3-centered" style="width:100%">
                <tr >
                <th>Lésion (mm)</th>
                <th>Avant</th>
                <th>Aujourd'hui</th></tr>
                <tr>
                <td>1</td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=1 ></td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=2 ></td>
                        </tr><tr>
                <td>2</td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=3></td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=4></td>
                        </tr><tr>
                <td>3</td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=5></td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=6></td>
                        </tr><tr>
                <td>4</td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=7></td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=8></td>
                        </tr><tr>
                <td>5</td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=9></td>
                            <td><input class="w3-input w3-border" type="tel" ilugano=10></td>
                        </tr>
                        <tr>
                <td>6</td>
                    <td><input class="w3-input w3-border" type="tel" ilugano=11></td>
                    <td><input class="w3-input w3-border" type="tel" ilugano=12></td>
                    </tr>
                    <tr>
                <td>Hauteur rate (<b>mm</b>)</td>
                            <td><input class="w3-input w3-border" type="number" ilugano=13></td>
                            <td><input class="w3-input w3-border" type="number" ilugano=14></td>
                        </tr>
                    <tr>
                            <td><b>Somme (<a href="#lugano_aide_manuel">manuel</a>)</b></td>
                            <td><input class="w3-input w3-border" type="number" id="lugano_suma_manuel" min="0" title="Seulement des chiffres S.V.P."></td>
                            <td><input class="w3-input w3-border" type="number" id="lugano_sumb_manuel" min="0" title="Seulement des chiffres S.V.P."></td>
                        </tr>
                        <tr>
                            <td><b>Somme (auto)</b></td>
                            <td><span id="lugano_suma">-</span></td>
                            <td><span id="lugano_sumb">-</span></td>                             
                        </tr>
                </table>
                        <p><span class="w3-tag w3-large w3-teal">Lugano</span> <span id="lugano_lugano">-</span></p>
                        <p><button class="w3-btn w3-indigo " ilugano=15 id="lugano_calc">Calculer</button></p>
                    <div class="w3-container w3-teal">Aide</div>
                    <ul><li>Entrer les deux axe dans une même cellule (ex : 15*10 ou 15-10).</li>
                        <li><a id="lugano_aide_manuel"></a>Si la somme est entrée en manuel, alors les tailles des cibles de la colonne seront ignorées.</li>
                        <li>Si une lésion s'est fragmentée, séparer les fragments par "+" (ex : 15*6+16*8).</li></ul>
                        <p></p>
                        <button type="button" class="collapsible collapsible100 w3-teal">Classification d'Ann Arbor modifiée</button>
                <div class="collapsecontent">
                <table class="w3-table-all">
                    <tbody>
                        <tr>
                            <th rowspan="1" colspan="2">Stade</th>
                            <th>Étendue de l'atteinte</th>
                        </tr>
                        <tr>
                            <td>Limité</td>
                            <td>I</td>
                            <td>Une adénomégalie ou groupe d'adénomégalies adjacentes</td>
                        </tr>
                        <tr>
                            <td><br></td>
                            <td>II</td>
                            <td>Deux (ou plus) groupes d'adénomégalies <u>du même coté du diaphragme</u></td>
                        </tr>
                        <tr>
                            <td>Avancé</td>
                            <td>III</td>
                            <td>Ganglions <u>de part et d'autre du diaphragme</u><br>Ou<br>Ganglions sus diaphragmatiques avec atteinte
                                splénique</td>
                        </tr>
                        <tr>
                            <td><br></td>
                            <td>IV</td>
                            <td><u>Atteinte extra-ganglionnaire</u> non adjacente à l'atteinte ganglionnaire</td>
                        </tr>
                    </tbody>
                </table>
                    <p>Considérés comme ganglion</p>
                    <ul>
                    <li>Rate (pour Hodgkin)</li></ul>
                    <ul>
                    <li>Anneau de Waldeyer</li></ul>
                    </div><p></p>
                    <button type="button" class="collapsible collapsible100 w3-teal">Aires ganglionnaires selon le CR normalisé de la SFR</button>
                    <div class="collapsecontent">
                    <p>
                    </p><ul>
                    <li>
                    <p><u>Aires ganglionnaires sus diaphragmatiques</u></p>
                    </li></ul>
                    <ol>
                    <ul>
                    <li>
                    <p>Aires ganglionnaires périphériques accessibles à la palpation</p>
                     </li></ul></ol>
                    <ol>
                    <ul>
                    <ul>
                    <li>
                    <p>Cervicales</p>
                       </li><li>
                    <p>Sus-claviculaires</p>
                       </li><li>
                    <p>Axillaires</p>
                      </li></ul></ul></ol>
                    <ol>
                    <ul>
                    <li>
                    <p>Aires
                      ganglionnaires profondes médiastinales </p>
                     </li></ul></ol>
                    <ol>
                    <ul>
                    <ul>
                    <li>
                    <p>Médiastin supérieur</p>
                       </li><li>
                    <p>Médiastin antérieur</p>
                       </li><li>
                    <p>Médiastin moyen</p>
                       </li><li>
                    <p>Hiles</p>
                       </li><li>
                    <p>Médiastin postérieur / Espace infra-médiastinal postérieur</p></li>
                    <li>
                    <p>Diaphragmatiques / Péricardiques</p></li></ul></ul></ol>
                    <ul>
                    <li>
                    <p><u>Aires ganglionnaires sous-diaphragmatiques</u></p>
                    </li></ul>
                    <ol>
                    <ul>
                    <li>
                    <p>Aire ganglionnaire périphérique accessible à la palpation</p></li>
                    <ul>
                    <li>
                    <p>Inguinale</p></li></ul></ul></ol>
                    <ol>
                    <ul>
                    <li>
                    <p>Aires ganglionnaires profondes abdominales</p>
                     </li></ul></ol>
                    <ul>
                    <ul>
                    <ul>
                    <li>
                    <p>Cœliaque</p>
                     </li><li>
                    <p>Hilaire
                     hépatique</p>
                     </li><li>
                    <p>Hilaire splénique</p>
                     </li><li>
                    <p>Péripancréatique</p>
                     </li><li>
                    <p>Mésentérique</p>
                     </li><li>
                    <p>Rétropéritonéale médiane</p></li>
                    <li>
                    <p>Iliaque primitive / externe / interne</p></li></ul></ul></ul>
                    </div>
                    <p></p>
                    <button type="button" class="collapsible collapsible100 w3-teal">Cibles</button>
                    <div class="collapsecontent">
                    <ul>
                    <li>Jusqu'à 6 lésions des plus grandes lésions (dans deux plans orthogonaux), représentatives des régions atteintes, en incluant l'atteinte médiastinale et rétropéritonéale (si elle existe).</li>
                    <li>Les ganglions de grand axe &gt;15mm.</li>
                    <li>Les masses non-ganglionnaires de grand axe &gt; 10 mm (ex. nodule hépatique)</li>
                    <li>Les autres lésions (autres masses, os, épanchements...) sont non-cibles.</li></ul>
                    <p>Atteinte splénique ?</p>
                    <ul>
                    <li>Par définition, si la hauteur de la rate est &gt; 13cm (donner la taille de la rate).</li>
                    <li>En cas de nodules spléniques.</li></ul>
                    <p>Cas particuliers</p>
                    <ul>
                        <li>Si une lésion n'est plus visible, on la compte à 0*0.</li>
                        <li>Si une lésion est visible mais trop petite pour être mesurée, on la commpte à 5*5mm</li>
                        <li>Si une lésion s'est fragmentée, on compte la somme des produits des petites lésions.</li>
                    </ul>
                    </div>
                    <p></p>
                    <button type="button" class="collapsible collapsible100 w3-teal">Critères défavorables du Hodgkin</button>
                    <div class="collapsecontent">
                    <ul>
                    <li>Bulky</li>
                    <ul>
                    <li>une adénomégalie isolément (par apposition à un amas de ganglions) &gt;10 cm ou &gt; à 1/3 du diamètre thoracique au scanner (quelque soit le niveau thoracique).</li>
                    <li>diamètre du médiastin tumoral / thorax &gt; 1/3 en T5-T6 en radio de thorax.</li></ul>
                    <li>atteinte d'au moins 4 aires ganglionnaires distinctes.</li></ul>
                    </div>
                    <p></p>
                    <button type="button" class="collapsible collapsible100 w3-teal">Lymphomes indolents vs. agressifs</button>
                    <div class="collapsecontent">
                    <table class="w3-table-all">
                    <tbody>
                    <tr>
                    <td><b>Indolents</b></td>
                    <td><b>Agressifs</b></td></tr>
                    <tr>
                    <td>L. folliculaires grade 1-2</td>
                    <td>L. B diffus grandes cellules</td></tr>
                    <tr>
                    <td>L. zone marginale</td>
                    <td>Hodgkin</td></tr>
                    <tr>
                    <td>LLC</td>
                    <td>L. folliculaires grade 3</td></tr>
                    <tr>
                    <td>...</td>
                    <td>L. T</td></tr>
                    <tr>
                    <td><br></td>
                    <td>Burkitt ...</td></tr></tbody></table>
                    </div>
                    <p></p>
                    <button type="button" class="collapsible collapsible100 w3-teal">Quand traiter un lymphome folliculaire ?</button>
                    <div class="collapsecontent">
                    <p>(critères d'imagerie du GELF)</p>
                    <ul>
                    <li>masse &gt; 7 cm de grand axe</li>
                    <li>envahissement d'au moins 3 sites ganglionnaires (chacun &gt;3cm dans son plus grand diamètre)</li>
                    <li>syndrome compressif</li>
                    <li>épanchement pleural ou péritonéal spécifique (⊕ à la ponction)</li></ul>
                    </div><p></p>
                    <button type="button" class="collapsible collapsible100 w3-teal">Réponse radiologique</button>
                    <div class="collapsecontent">
                        <ul>
                            <li><b>Progression</b> (par rapport au Nadir)</li>
                            <ul>
                            <li>Nouvelle lésion</li>
                            <li>ou progression claire d'une lésion non-cible</li>
                            <li>ou augmentation &gt;50% du produit des diamètres d'une lésion &gt;15mm</li>
                            <ul>
                            <li>augmentation ≥5mm si lésion ≤20mm ;&nbsp;
                            
                            ≥10mm si lésion &gt;20mm</li></ul>
                            <li>ou augmentation de la rate</li>
                            <ul>
                            <li>de plus de 50% de la hauteur &gt;13cm ou de &gt;2cm si hauteur ≤13cm</li></ul></ul>
                            <li><b>Réponse partielle</b> (par rapport au Baseline)</li>
                            <ul>
                            <li>Si pas de progression</li>
                            <li>Et si diminution de la SPD ≥50% ET régression de ≥50% de la hauteur de rate &gt;13cm.</li></ul>
                            <li><b>Réponse complète</b></li>
                            <ul>
                            <li>Si critères de PR</li>
                            <li>et plus de lésion d'organe ET plus d'adénomégalie (grand axe≤15mm ET petit axe ≤10mm)</li></ul>
                            <li><b>Maladie stable</b> sinon (ni PD, ni PR, ni CR)</li></ul>
                    </div>
                    <p></p>
                    <div class="w3-container w3-teal">Références</div>
                    <ul><li>Cours des JFR2021 du CHU de Clermont Ferrand qui m'a beaucoup aidé.</li>
                    <li><a href="https://dx.doi.org/10.1200/JCO.2013.54.8800" target="_blank">The Lugano Classification, Oncology 2014</a></li></ul>
        </div>

        <!--onglet algo -->
        <div id="algo" class="w3-container w3-border onglet" style="display:none">
            <h2>Algorithmes décisionnels</h2>
            <ul>
                <li><button  type="button" modalbouton  class="w3-button w3-indigo" src="img/bts.svg" alt="BTS 2015">Guidelines BTS 2015</button> prise en charge des nodules pulmonaires. (<a href="https://radiologyassistant.nl/chest/plumonary-nodules/bts-guideline" target="_blank">Radiology assistant</a>) </li><br>
                <li><button  type="button" modalbouton  class="w3-button w3-indigo" src="img/solid-nodules2.png" alt="Fleischner 2017 Suivi des nodules solides" >Fleischner 2017 solides</button> fréquence de suivi (sans volumétrie).</li><br>
                <li><button  type="button" modalbouton  class="w3-button w3-indigo" src="img/subsolid-nodules2.png" alt="Fleischner 2017 Suivi des nodules avec verre-dépoli">Fleischner 2017 avec verre-dépoli</button> fréquence de suivi (sans volumétrie).</li><br>
            </ul>
            <p><b>Remarques :</b></p>
            <ul>
                <li>Les recommandations Fleischner sont applicables aux nodules de découverte fortuite, âge > 35 ans.</li>
                <li>Et inapplicables en cas de dépistage, cancer connu, immunodépression.</li>
            </ul>
        </div>
         <!--onglet washout -->
        <div id="washout" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Calcul du washout surrénalien (lavage) en scanner</h5>
            </div>
            <p><button class="w3-btn w3-red" id="washout_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Densité sans injection</b></label>
                <input required class="w3-input w3-border w3-light-grey" iwashout=1 type="number" min="-115" step="any" id="uh0" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Densité au temps précoce à 60" (60-90" pic de rehaussement supposé)</b></label>
                <input required class="w3-input w3-border w3-light-grey" iwashout=2 type="number" min="-115" step="any" id="uh70" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Densité au temps tardif à 15' (10-15')</b></label>
                <input required class="w3-input w3-border w3-light-grey" iwashout=3 type="number" min="-115" step="any" id="uh15" title="Seulement des chiffres S.V.P."></p>
            <div id="washout_avis"></div>
            <p><span class="w3-tag w3-large w3-teal">Wash out relatif</span> <span id="washout_relatif">-</span></p>
            <p><span class="w3-tag w3-large w3-teal">Wash out absolu</span> <span id="washout_absolu">-</span></p>
            <p><button class="w3-btn w3-indigo" iwashout=4 >Calculer</button></p> <!--je mets plus d'id, ac formulaire_anime, ça sert plus -->
            
            <div class="w3-container w3-teal">
                <h5>Chute de signal en IRM</h5>
            </div>
            <p><label class="w3-text-teal"><b>Surrénale : Signal en phase</b></label>
                <input required class="w3-input w3-border w3-light-grey" ichuteirm=1 type="number" step="any" id="insur" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>Surrénale : Signal en opposition de phase</b></label>
                <input required class="w3-input w3-border w3-light-grey" ichuteirm=2 type="number" step="any" id="outsur" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>Rate : Signal en phase</b></label>
                <input required class="w3-input w3-border w3-light-grey" ichuteirm=3 type="number"  step="any" id="inrat" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>Rate : Signal en opposition de phase</b></label>
                <input required class="w3-input w3-border w3-light-grey" ichuteirm=4 type="number"  step="any" id="outrat" title="Seulement des chiffres S.V.P."></p>
                <p>Remarque : L'analyse est d'abord visuelle. Les rapports de chute de signal sont une aide débattue.</p>
                <p><span class="w3-tag w3-large w3-teal">Chute signal surrénale</span> <span id="chuteirm_sur">-</span></p>
            <p><span class="w3-tag w3-large w3-teal">Chute signal surrénale/rate</span> <span id="chuteirm_rat">-</span></p>
            <p><button class="w3-btn w3-indigo" ichuteirm=5 >Calculer</button></p>

            
            <div class="w3-container w3-teal">Mémo</div>
            <h5>Algorithme décisionnel</h5>
            <ol> 
                <li>Contexte ? (oncologique, syndrome hormonal, hématome, tuberculose...)</li>
                <li>Si la masse est > 6cm ou à croissance rapide, elle est suspecte (25% de néoplasies après 6cm); les adénomes sont <4 cm et homogènes.</li>
                <li>Si la densité spontanée est <10U.H., → STOP : en faveur d'un adénome (riche en graisse) (seuil pour Se 71% ; Sp 98% <a href="https://www.ajronline.org/doi/10.2214/ajr.171.1.9648789" target="_blank">cf. réf</a>)</li>
                <ul><li>Remarque, les informations infra sont données pour les adénomes pauvres en graisse (Les seuils et couples Se/Sp sont différents sinon) et non-nécrotiques.</li></ul>
                <li>Calcul du washout (W.O.) relatif et absolu au scanner</li>
                    <ol type='A'>
                        <li>Si le W.O. absolu est ≥ 60% ou le W.O. relatif ≥ 40% (pour un temps tardif à 15') → en faveur d'un adénome. (Se 89%, Sp 95% et Se 83% Sp 93% respectivement, le W.O. absolu est un rien plus performant. <a href="https://www.ajronline.org/doi/10.2214/ajr.175.5.1751411" target="_blank">cf. réf</a>)</li>
                        <ul><li>Remarque, les seuils sont respectivement 50 et 40% pour un tardif à 10', mais avec une moindre précision diagnostique. <a href="https://dx.doi.org/10.1259/bjr.20151018" target="_blank">Réf.</a></li>
                        <li>Cependant, certains adénomes se lavent précocément. Si le W.O. relatif est > à 40% sur une TDM multiphasique, le diagnostique d'adénome peut être porté avec confiance sans scanner surrénalien dédié.</li></ul>
                        <li>Sinon c'est indéterminé en TDM et il faut calculer la chute de signal en IRM.</li>
                        <ol type='a'>
                            <li>Si la chute de signal est > 16,5% → en faveur d'un adénome. Visuellement, l'adénome se rehausse précocément et se lave.</li>
                            <li>Sinon, c'est indéterminé → TEP (fixe moins que le foie (ou moins de 1,5x le foie) habituellement) ; histologie ; surveillance.</li>
                        </ol>
                    </ol>  
                <li>Explorations hormonales.</li>
                <li>Suivi : pas de suivi en imagerie pour les masses clairement bénignes < 4 cm et < 10U.H. selon la société Européenne d'Endocrinologie ESE 2016. En cas de doute sur une métastase mimant un adénome, un suivi est cependant utile.</li>
            </ol>
            <h5>Masses mimant des adénomes</h5>
            <ul>
                <li>Métastases riches en graisses (CHC...)</li>
                <li>Métastases hypervasculaires (CHC, rein...)</li>
                <li>Phéochromocytomes (riche en graisse, hypervasculaire)</li>
            </ul>
            <h5>Références</h5>
            <ul><li>Notes largement issues de <a href="https://dx.doi.org/10.1259/bjr.20151018" target="_blank">Adrenal imaging for adenoma characterization..., BJR 2016, Jung Jae Park et al.</a> </li>
            <li><a href="http://www.sfendocrino.org/_images/mediatheque/articles/pdf/recommandations/2006%20consensus%20sfe%20incidentalomes%20surrenaliens.pdf" target="_blank">Consensus SFE 2006 incidentalomes surrénaliens</a></li></ul>
        </div>
        <!--onglet apropos -->
        <div id="apropos" class="w3-container w3-border onglet" style="display:none">
            <div id="assistance"></div>
            <button type="button" licence class="collapsible collapseh5 w3-teal" id="aproposbout">Avertissements</button>
            <div class="collapsecontent">
            <div id="defile"></div>
            <p>L'auteur de cette application se présente en tant que programmateur amateur sans autre titre ni prétention.</p>
            <p>
                Cette application est fournie à titre informatif et sans aucune garantie. Elle s'adresse à un public averti ayant une formation médicale. En aucun cas les informations
                qu'elle apporte ne peuvent se substituer à une consultation médicale ni réaliser un diagnostic. Bien que j'ai apporté du soin à sa réalisation, 
                des erreurs peuvent persister. Les différents calculateurs ont été testés manuellement contre d'autres calculateurs déjà publiquement accessibles. 
                Néanmoins, le code n'a évidemment pas été audité.
                La saisie de l'utilisateur est grossièrement vérifiée, mais une erreur de saisie de votre part pourrait produire un résultat aberrant.
                Cette application ne se substitue pas au raisonnement médical et tout résultat devrait être interprété avec un oeil critique.</p>
             <p>Cette application n'est pas un produit médical professionnel.</p>
            <p>Le code source que j'ai rédigé est placé sous la licence CeCILL de droit français, qui respecte les principes de diffusion des logiciels libres (cf infra).</p>
             <p>En poursuivant l'utilisation, vous acceptez ces conditions sans réserve. Veuillez prendre connaissance de la licence et l'accepter.</p>
            </div>
            <p></p>
            <button type="button" class="collapsible collapseh5 w3-teal">Installation sur iPhone et Android, PC</button>
                <div class="collapsecontent"> 
                    <ul>
                        <li>Sur Android, dans l'App Store, installer Radcalc (Auteur Aldoniel). <a href="https://play.google.com/store/apps/details?id=io.aldoniel.radcalc" target="_blank">Lien direct si besoin.</a> <ul><li><button  type="button" modalbouton  class="w3-button w3-indigo" src="img/qrplaystore.png" alt="QR code vers le Play Store Android" width="300px" height="300px">QRcode Android</button></li></ul></li>
                        <li>Sur tous navigateurs (PC, téléphones) <a href="https://aldoniel.github.io/radcalc/" target="_blank">version en ligne</a></li>
                        <ul>
                        <li><button  type="button" modalbouton  class="w3-button w3-indigo" src="img/qrweb.png" alt="QR code vers la version Web / iOS" width="300px" height="300px">QRcode Web / iOS</button></li>
                        <li>Pour iOS(c), il faut ouvrir la version navigateur dans Safari, puis dans
                         le menu du bas, toucher "partager" (l'icône boîte avec une flèche 
                        haute), puis glisser vers le haut ("swipe" haut), puis défiler dans la 
                        liste jusqu'à "Ajouter à l'écran d'accueil".</li>
                        <li>Il faut ensuite ouvrir l'application une fois depuis son icône sur 
                        l'écran d'accueil du téléphone et elle devrait ensuite fonctionner en 
                        mode hors ligne.</li>
                        <li>Sur Chrome sous Android, le menu ajouter à l'écran d'accueil est présent dans les options générales de la page web en haut à droite. (Installation en tant qu'application web progressive).</li></ul>
                    </ul>
                </div>
                <p></p>
            <button type="button" class="collapsible collapseh5 w3-teal">À propos : RadCalc 1.6</button>
                <div class="collapsecontent"> 
                <ul>
                    <li>Les informations sont traitées localement, hors ligne.</li>
                    <li>Il n'y a pas de contenu distant en dehors des hyperliens.</li>
                    <li>Il n'y a pas de publicité (ni aucun financement externe.)</li>
                    <li>Le code est un mélange de python via <a href="https://brython.info/" target="_blank">Brython</a>, de <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">W3.CSS</a>, html, javascript.</li>
                    <li>L'application est portée sur android par <a href="https://cordova.apache.org/" target="_blank">Cordova</a>.</li>
                    <li>Les jolies icônes sont de <a href="https://openmoji.org/" target="_blank">OpenMoji</a>, le sigle du chaos qui sert à caser les onglets divers est de Fibonacci sous licence GFDL</li>
                    <li>La fonction <a href="https://github.com/anitasv/zoom" target="_blank">Zoom it!</a> est de anitasv</li>
                    <li>Vous pouvez me contacter à <span id="contact">-</span></li>
                </ul></div>
                <p></p>
                <button type="button" licence class="collapsible collapseh5 w3-teal">Licence libre CeCILL</button>
                <div class="collapsecontent"> 
                    <div id="cecill"></div>
                    <a id="cecillaccepter"></a>
                </div>
            </div>
            <!--onglet nascet -->
        <div id="nascet" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Sténose</h5>
            </div>
            <p><button class="w3-btn w3-red" id="nascet_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>(Petit) Diamètre ; sténose</b></label>
                <input required class="w3-input w3-border w3-light-grey" icstenose=1 type="number" min=".1" step="any" id="petitdiam" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>(Grand) Diamètre normal</b></label>
                <input required class="w3-input w3-border w3-light-grey" icstenose=2 type="number" min=".1" step="any" id="gddiam" title="Seulement des chiffres S.V.P."></p>
                <p><span class="w3-tag w3-large w3-teal">Sténose : </span> <span id="nascet_ste">-</span></p>
                <p><button class="w3-btn w3-indigo" icstenose=3 >Calculer</button></p>
            <div class="w3-container w3-teal">
                <h5>Équivalence % ECST → NASCET</h5>
            </div><br>
            <label class="w3-text-teal"><b>ECST</b></label><input required class="w3-input w3-border w3-light-grey" iecstconv=1 type="number" min="1" step="any" id="ecstconv" title="Seulement des chiffres S.V.P."></p>
            <p><span class="w3-tag w3-large w3-teal">NASCET : </span> <span id="ECSTNASCET">-</span></p>
            <p><button class="w3-btn w3-indigo" iecstconv=2>Calculer</button></p>
            <button type="button" class="collapsible collapsible100 w3-teal">Remarques</button>
                <div class="collapsecontent">
                <ul><li>Il ne s'agit pas d'une conversion, mais d'une approximation basée sur l'hypothèse communément admise que le diamètre du bulbe vaut deux fois celui de l'ACI en aval (cas le plus fréquent, mais pas forcément adapté à l'anatomie du patient).</li>
                <li>On en déduit grâce à une brillante résolution d'équation que Nascet = 2*ECST-100 (en ignorant les valeurs négatives).</li></ul>
                </div>
            <br><div class="w3-container w3-teal">Mémo</div>

            <table style="text-align: left;" border="0" cellpadding="2" cellspacing="2">
            <tbody>
            <tr>
            <td style="vertical-align: top;"><img src="img/nascet.svg" width="150"><ul><li>NASCET= 100*(1-B/A)</li>
                <li>ECST=100*(1-B/C)</li></ul></td>
            <td style="vertical-align: top;">
            <table class="w3-table-all w3-small">
                <tr>
                        <th>ECST</th>
                        <th>NASCET</th>
                    </tr>
                    <tr>
                        <td>50</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>60</td>
                        <td>20</td>
                    </tr>
                    <tr>
                        <td>70</td>
                        <td>40</td>
                    </tr>
                    <tr>
                        <td>80</td>
                        <td>60</td>
                    </tr>
                    <tr>
                        <td>85</td>
                        <td>70</td>
                    </tr>
                    <tr>
                        <td>90</td>
                        <td>80</td>
                    </tr>
                    <tr>
                        <td>95</td>
                        <td>90</td>
                    </tr>
                </table>
            </td>
            </tr>
            </tbody>
            </table>
            <h5>NASCET et recommandations grade A HAS 2018 <a href="https://www.has-sante.fr/upload/docs/application/pdf/2014-09/avc_synthese_des_recommandations.pdf" target="_blank">Réf.</a></h5>
            <ul><li>Sténose athéroscléreuse symptomatique de la carotide interne extracrânienne</li>
                <ul><li>Sténose comprise entre 70 et 99 % (critères NASCET) : endartériectomie carotidienne chez les 
                patients avec un IC non invalidant ou un AIT, de moins de 6 mois</li>
            <li>Sténose  carotidienne  comprise  entre  50  et  69 % :  endartériectomie  carotidienne  possible  en 
                prenant  en  considération  certaines  caractéristiques  du  patient  et  de l’accident  ischémique 
                cérébral.</li>
            <li>Sténose de la carotide interne < 50 % : pas d’indication chirurgicale.</li></ul>
            </ul>
        </div>
        <!--onglet testis -->
        <div id="testis" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Volume gonadique</h5>
            </div>
            <p>
                <input class="w3-radio" type="radio" name="testisformule" checked id="testisformule">
                <label>formule de Lambert (gonade masculine)</label>
                <br>
                <input class="w3-radio" type="radio" name="testisformule">
                <label>formule de l'ellipsoïde (ovaire)</label>
            </p>
            <label class="w3-text-teal"><b>Dimensions de la gonade dans les 3 plans</b></label>
            <p><button class="w3-btn w3-red" id="testis_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Diamètre x (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" itestis=1 type="number" min="1" step="any" id="testix" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Diamètre y (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" itestis=2 type="number" min="1" step="any" id="testiy" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Diamètre z (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" itestis=3 type="number" min="1" step="any" id="testiz" title="Seulement des chiffres S.V.P."></p>
            <p><span class="w3-tag w3-large w3-teal">Volume : </span> <span id="testisvol">-</span></p>
            <p><button class="w3-btn w3-indigo" itestis=4>Calculer</button></p>
            <button type="button" class="collapsible collapsible100 w3-teal">Remarques</button>
            <div class="collapsecontent">
            <div class="w3-container w3-teal"></div>
                <ul><li>La littérature est assez confuse sur la manière correcte de calculer le volume gonadique masculin* ainsi que les normes.</li>
                    <ul>
                    <li>La normale souvent avancée est 15-20mL (ex : <a href="https://doi.org/10.1148/rg.2017160125" target="_blank">Réf</a>) et atrophie si < à 6mL. La société française d'endocrinologie donne une normale >12mL à l'orchidomètre.</li>
                    <li>Cependant, pour la même normale (!), certains préconisent la formule de l'ellipsoïde (0,52*x*y*z où π/6#0,52) par défaut dans les échographes, tandis que d'autres promeuvent la formule de Lambert : 0,72*x*y*z.</li>
                    <li>Sur la base de corrélations au volume réel sur spécimen, la formule de Lambert était la plus proche sur deux études et est donc retenue ici. (<a href="https://doi.org/10.1016/j.urology.2006.09.012" target="_blank">Réf1</a> <a href="https://doi.org/10.1016/j.afju.2012.11.004" target="_blank">Réf2</a>).</li>
                    <li> * (La politique de chasteté de l'android store ne permet pas de mentionner son nom impudique)</li></ul>
                    <li>Le volume ovarien se calcule par la formule de l'ellipsoïde (cf. supra ou onglet en haut à gauche volume ellipsoïde), qui est normalement déjà dans l'échographe.</li>
                    <ul><li>La société française d'endocrinologie donne une normale d'un ovaire à 4-11 mL chez la femme adulte jusqu'à 35 ans</li></ul>
                </ul>
            </div><p></p>
            <div class="w3-container w3-teal">
                <h5>Conversion volume ellipsoïde → Lambert</h5>
            </div>
            <p>Pour convertir le volume en général calculé par les échographes.</p>
            <input required class="w3-input w3-border w3-light-grey" itestisconv=1 type="number" min="1" step="any" id="testisellip" title="Seulement des chiffres S.V.P."></p>
            <p><span class="w3-tag w3-large w3-teal">Volume Lambert : </span> <span id="testislamb">-</span></p>
            <p><button class="w3-btn w3-indigo" itestisconv=2>Calculer</button></p>
            <div class="w3-container w3-teal">
                <h5>Surface ovarienne</h5>
            </div>
            <label class="w3-text-teal"><b>Deux axes sur la plus grande coupe.</b></label>
            <p><button class="w3-btn w3-red" id="ovr_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Diamètre x (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" iovr=1 type="number" min="1" step="any" id="ovrx" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Diamètre y (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" iovr=2 type="number" min="1" step="any" id="ovry" title="Seulement des chiffres S.V.P."></p>
            <p><span class="w3-tag w3-large w3-teal">Surface : </span> <span id="ovr_surf">-</span></p>
            <p><button class="w3-btn w3-indigo" iovr=3>Calculer</button></p>
            <div class="w3-container w3-teal">Remarques</div>
                <ul><li>La société française d'endocrinologie donne une normale d'un ovaire à 2,5-5,5 cm² chez la femme adulte jusqu'à 35 ans.</li>
                    <li>Surface = x*y*0.008 (en mm → cm²)</li>
                </ul>
        </div> 

        <!-- onglet tirads-->
        <div id="tirads" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>EU-TIRADS 2017</h5>
            </div>
            <div  class="w3-responsive">
            <table table class="w3-table-all ">
                <tbody>
                <tr>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th></tr>
                <tr>
                <td>anéchogène ou entièrement spongiforme</td>
                <td>entièrement isoéchogène ou hyperéchogène</td>
                <td>modérément hypoéchogène</td>
                <td>forme non ovale<br>ou contours irréguliers<br>ou microcalcifications<br>ou hypoéchogénicité marquée</td></tr>
                <tr>
                <th rowspan="1" colspan="4" class="w3-center">Indication des cytoponctions</th></tr>
                <tr>
                <td>si compressif et &gt;20mm</td>
                <td>&gt;20mm</td>
                <td>&gt;15mm</td>
                <td>&gt;10mm ou ≤10 et  
                <ul>
                <li>augmentation de taille </li>
                <li>bilan d'une métastase</li>
                <li>bilan d'une adénopathie*</li>
                <li>juxta-capsulaire ≤2mm</li>
                <li>...</li></ul></td></tr></tbody></table></div>
                <p>*la ponction du ganglion avec dosage in situ de thyroglobuline doit être systématique</p>
                <p>Source http://ti-rads.com</p>
        </div>

        <!--onglet mesa -->
        <div id="mesa" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Risque d'accident coronarien à 10 ans, MESA 2015</h5>
            </div>
            <p><button class="w3-btn w3-red" id="mesa_clear">Effacer les valeurs</button></p>
            <label class="w3-text-teal"><b>Groupe éthnique ?</b></label>
            <p><input class="w3-radio"  imesa=1  type="radio" name="mesarace" value="1"  >
            <label>Noir ou Afro-Américain</label>
            <input class="w3-radio" imesa=1 type="radio" name="mesarace" value="2"  >
            <label>Chino-Américain</label>
            <input class="w3-radio" imesa=1 type="radio" name="mesarace" value="3"  >
            <label>Hispano-Américain</label>
            <input class="w3-radio" imesa=1 type="radio" name="mesarace" value="4"  >
            <label>Blanc non-hispanique</label>
            </p><label class="w3-text-teal"><b>Sexe ?</b></label>
            <p><input class="w3-radio"  imesa=2  type="radio" name="mesa_sexe" value="1"  >
            <label>Homme</label>
            <input class="w3-radio" imesa=2 type="radio" name="mesa_sexe" value="0"  >
            <label>Femme</label>
            </p><p><label class="w3-text-teal"><b>Âge (45-85) ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" imesa=3 type="number" min="45" max="85" step="any" id="mesa_age" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Cholestérol total (mg/dL) ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" imesa=4 type="number" min="100" max="600" step="any" id="mesacholest" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Cholestérol HDL (mg/dL) ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" imesa=5 type="number" min="10" max="200" step="any" id="mesaHDL" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Pression systolique (mmHg) ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" imesa=6 type="number" min="90" max="300" step="any" id="mesaPAS" title="Seulement des chiffres S.V.P."></p>
            <label class="w3-text-teal"><b>Traitement anti-hypertenseur ?</b></label>
            <p><input class="w3-radio"  imesa=7  type="radio" name="mesatttHTA" value="1"  >
            <label>Oui</label>
            <input class="w3-radio" imesa=7 type="radio" name="mesatttHTA" value="0"  >
            <label>Non</label>
            </p><label class="w3-text-teal"><b>Traitement hypolipémiant ?</b></label>
            <p><input class="w3-radio"  imesa=8  type="radio" name="mesatttlipides" value="1"  >
            <label>Oui</label>
            <input class="w3-radio" imesa=8 type="radio" name="mesatttlipides" value="0"  >
            <label>Non</label>
            </p><label class="w3-text-teal"><b>Diabète ?</b></label>
            <p><input class="w3-radio"  imesa=9  type="radio" name="mesadiab" value="1"  >
            <label>Oui</label>
            <input class="w3-radio" imesa=9 type="radio" name="mesadiab" value="0"  >
            <label>Non</label>
            </p><label class="w3-text-teal"><b>Fumeur actif ?</b></label>
            <p><input class="w3-radio"  imesa=10  type="radio" name="mesasmoker" value="1"  >
            <label>Oui</label>
            <input class="w3-radio" imesa=10 type="radio" name="mesasmoker" value="0"  >
            <label>Non</label>
            </p><label class="w3-text-teal"><b>ATCD familial d'IDM au 1er degré ?</b></label>
            <p><input class="w3-radio"  imesa=11  type="radio" name="mesafamIDM" value="1"  >
            <label>Oui</label>
            <input class="w3-radio" imesa=11 type="radio" name="mesafamIDM" value="0"  >
            <label>Non</label>
            </p><p><label class="w3-text-teal"><b>Score calcique d'Agatston ?</b></label>
            <input required class="w3-input w3-border w3-light-grey" imesa=12 type="number" min="0" step="any" id="mesa_aga" title="Seulement des chiffres S.V.P."></p>

            <p><span class="w3-tag w3-large w3-teal">Risque à 10 ans d'accident coronarien (hors score calcique): </span> <span id="mesa10">-</span></p>
            <p><span class="w3-tag w3-large w3-teal">Risque à 10 ans d'accident coronarien (avec score calcique): </span> <span id="mesa10calci">-</span></p>
            <p><button class="w3-btn w3-indigo" imesa=13>Calculer</button></p>
            <div class="w3-container w3-teal">Remarques</div>
                <ul><li>Ici, la prise d'un traitement est un facteur de risque dans l'équation... C'est un lien statistique non-causal lié au risque plus élevé de la population traitée. (<a href="https://doi.org/10.1016/j.jacc.2015.08.035" target="_blank">Réf. MESA</a>)</li>
                    <li>Ce calculateur a été testé contre celui de <a href="https://www.mesa-nhlbi.org/MESACHDRisk/MesaRiskScore/RiskScore.aspx" target="_blank">référence.</a> </li>
                    <li><a href="https://www.mesa-nhlbi.org/calcium/input.aspx" target="_blank">Lien vers le calculateur de percentile MESA </a>pour le score calcique (algorithme non publié, non reproductible ici).</li>
                </ul>
        </div> 

        <!--onglet volume -->
        <div id="volume" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>Volume ellipsoïde</h5>
            </div>
            <label class="w3-text-teal"><b>Dimensions dans les 3 plans</b></label>
            <p><button class="w3-btn w3-red" id="vol_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Diamètre x (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivol=1 type="number" min="0" step="any" id="volx" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Diamètre y (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivol=2 type="number" min="0" step="any" id="voly" title="Seulement des chiffres S.V.P."></p>
            <p><label class="w3-text-teal"><b>Diamètre z (mm)</b></label>
            <input required class="w3-input w3-border w3-light-grey" ivol=3 type="number" min="0" step="any" id="volz" title="Seulement des chiffres S.V.P."></p>
            <p><span class="w3-tag w3-large w3-teal">Volume : </span> <span id="volvol">-</span></p>
            <p><button class="w3-btn w3-indigo" ivol=4>Calculer</button></p>
            <div class="w3-container w3-teal">Remarques</div>
                <ul><li>La formule utilisée est x*y*z*π/6000 (mm -> mL) que l'on approxime en général par x*y*z/2000 ou mieux par x*y*z*0,52/1000.</li>
                    <li>L'approximation est correcte pour ce qui se rapproche de la forme d'une sphère ou d'un oeuf.</li>
                </ul>
        </div> 

        <!--onglet surface -->

        <div id="surface" class="w3-container w3-border onglet" style="display:none">
            <div class="w3-container w3-teal">
                <h5>IMC et surface corporelle</h5>
            </div>
            <p><button class="w3-btn w3-red" id="surface_clear">Effacer les valeurs</button></p>
            <p><label class="w3-text-teal"><b>Poids (kg) ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" isurface=1 type="number" min="1" max="700" step="any" id="surface_kg" title="Seulement des chiffres S.V.P."></p>
                <p><label class="w3-text-teal"><b>Taille (cm) ?</b></label>
                <input required class="w3-input w3-border w3-light-grey" isurface=2 type="number" min="30" max="280" step="any" id="surface_cm" title="Seulement des chiffres S.V.P."></p>
                <p><span class="w3-tag w3-large w3-teal">Surface : </span> <span id="surface_bsa">-</span></p>
                <p><span class="w3-tag w3-large w3-teal">IMC : </span> <span id="surface_imc">-</span></p>
            <p><button class="w3-btn w3-indigo" isurface=3>Calculer</button></p>
            <div class="w3-container w3-teal">Remarques</div>
                <ul><li>Le choix de l'équation de la surface corporelle est délicat car il en existe un grand nombre, certaines a priori plus précises que d'autres, sans que la différence 
                    entre les meilleures soit cliniquement très significative (car les meilleures formules donnent des résultats voisins qui se perdent dans l'arrondi, alors même que la surface corporelle donne une impression de rigueur scientifique tout en ignorant les 
                    variants enzymatiques, rénaux, vasculaires etc.). La formule de Mosteller, établie en 1987, est une approximation de la formule de Gehan and George (obtenue en 1970 par mesure directe sur 401 individus). Elle a l'avantage
                unique de donner le même résultat si on inverse le poids et la taille par erreur [Mosteller = (taille_cm * poids_kg /3600)<sup>0,5</sup>] tout en restant précise, valable chez l'enfant, simple. Elle est 
            recommandée par <a href="https://www.cancercareontario.ca/sites/ccocancercare/files/assets/CCOBodyCalculation.pdf" target="_blank">l'Action Cancer Ontario.</a></li>
                </ul>
        </div> 

        <script>
            // global var
            var onglet, tablinks;
            onglet = document.getElementsByClassName("onglet"); 
            tablinks = document.getElementsByClassName("tablink");
            var current_onglet;
            try {
                current_onglet=localStorage.getItem('last_onglet') //essaie de lire le dernier onglet avant fermeture
                if (current_onglet==null){
                    current_onglet="apropos" // au cas où le localstorage est corrompu
                }
            } catch (error) {
                current_onglet="apropos" //mettre un onglet d'info générale au 1er démarrage
            }
            openonglet(null,current_onglet) //NULL car c'est compliqué de simuler un event

            function hovermenu(){
                var coll = document.getElementsByClassName("hoverbutton");
                var i;
                for (i = 0; i < coll.length; i++) {
                coll[i].addEventListener("mouseover", function(){
                    var parent=this.nextElementSibling; //implique que le bouton est toujours suivi de div w3-dropdown-content
                    if (parent){parent.style.display="block";}
                });
                }
                coll = document.getElementsByClassName("w3-dropdown-hover");
                for (i = 0; i < coll.length; i++) {
                    coll[i].addEventListener("mouseleave", function() {
                        var drop=this.getElementsByClassName("w3-dropdown-content");
                        if (drop){drop[0].style.display="none";}
                    });
                }
                
            }
            hovermenu();

            function openonglet(evt, ongletName) {
                var i;
                if (evt){
                    var drop=evt.currentTarget.closest(".w3-dropdown-content")
                    if (drop){drop.style.display="none";}
                }
                document.getElementById(current_onglet).style.display = "none"; //cacher l'onglet actif
                current_onglet=ongletName;
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" w3-green", "");  //décolore le menu
                }
                document.getElementById(ongletName).style.display = "block";
                if (evt!=null){
                    evt.currentTarget.className += " w3-green";
                    if (ongletName!= "DFG"){evt.currentTarget.closest(".w3-dropdown-hover").children[0].className += " w3-green";}
                }
                //mon code lamentable pour colorer. Je décide de ne pas recolorer à la rouverture car ça complique le code...
                try{dernierongletclic(ongletName);}//envoie le nom à brython
                catch(err){}//c'est moche, mais ça enlève l'erreur au démarrage où js gagne la compèt sur brython
            }

            function collapsible(){//w3 ; sert à replier les catégories
                var coll = document.getElementsByClassName("collapsible");
                var i;
                for (i = 0; i < coll.length; i++) {
                coll[i].addEventListener("click", function() {
                    this.classList.toggle("collapseactive");
                    var content = this.nextElementSibling;
                    if (content.style.maxHeight){
                    content.style.maxHeight = null;
                    } else {
                    content.style.maxHeight = "max-content";
                    } 
                });
                }
            }
            collapsible();
            
        </script>
<script type="text/python3">

    from browser import window, run_script

    def load_script(req):
       src = req.responseText
       run_script(src)
    
    SCRIPT_PATH = 'scripts.py'
    
    request = window.XMLHttpRequest.new()
    request.onload = lambda e:load_script(request)
    request.open('GET', SCRIPT_PATH, False) # False == chargement synchrone , True == async (faux si interdépendance des scripts)
    request.send()
</script>
<!-- The Modal -->
<script type="text/javascript" src="js/zoom.min.js"> </script>
<div id="modal_id" class="modal">
    <span class="modal_close">&times;</span>
    <div style="overflow:visible;"> <!--y'avait visible, qu'est sans doute bien ss android. sous windows auto donne les ascenseurs et y'avait mis scroll à vittel ; cet attribut semble abandonné ne fait plus rien-->
    <img class="modal-content" id="img01" >
    </div>
    <div id="caption"></div>
  </div>
</body>

</html>

